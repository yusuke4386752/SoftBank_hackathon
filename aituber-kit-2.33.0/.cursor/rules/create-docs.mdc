---
description: ドキュメントページを作成するときに使用します。
globs: 
alwaysApply: false
---
# AITuberKitドキュメント整備のためのガイド

## 必要なファイル

1. **メインドキュメントファイル**: 各設定ページ用のMarkdownファイル
   ```
   website/document/guide/[設定名]-settings.md
   ```
   または、複数のサブページがある場合は:
   ```
   website/document/guide/[設定名]/[サブページ名].md
   ```

2. **環境変数ファイル**: すべての環境変数をまとめるファイル
   ```
   website/document/guide/environment-variables.md
   ```

3. **config.mts**: サイドバーに新しいページを追加する場合
   ```
   website/document/.vitepress/config.mts
   ```

4. **参考ファイル**: 書き方の参考にする既存のファイル
   ```
   website/document/guide/basic-settings.md  # 基本的な設定ページの参考
   website/document/guide/character/common.md  # サブページ構成の参考
   ```

## 設定画面ごとの作業手順

1. **設定コンポーネントの分析**
   - `src/components/settings/[設定名].tsx` ファイルを確認して機能と設定項目を特定
   - `src/features/stores/settings.ts` ファイルを確認して対応する環境変数を調べる
   - 関連する翻訳キー（`locales/ja/translation.json` など）を確認して項目の説明を把握
   - 関連するAPIやサービスがある場合はそれらの実装も確認

2. **環境変数の抽出**
   - 該当設定に関連する環境変数を抽出
   - 環境変数名とデフォルト値、説明を整理
   - `environment-variables.md` に追加（下記フォーマット参照）
   - 各設定ページには簡潔な環境変数の参照情報のみ記載

3. **ドキュメントファイルの作成/編集**
   - 各設定画面に対応するMarkdownファイルを作成/編集
   - 複雑な設定の場合はフォルダを作成し、複数のファイルに分割する
   - 基本構造に従って内容を記述（下記フォーマット参照）

4. **サイドバーへの追加**
   - 新しい設定ページの場合、`config.mts` のサイドバー設定に追加

## ドキュメントの標準フォーマット

### 基本構造

```markdown
# [設定名]設定

## 概要

[設定の概要説明。この設定が何のためにあるのか、どのような機能を提供するのかを簡潔に説明]

**環境変数**:

```bash
# [環境変数の説明]
NEXT_PUBLIC_VARIABLE_NAME=デフォルト値

# [環境変数の説明]
NEXT_PUBLIC_ANOTHER_VARIABLE=デフォルト値
```

## [主要設定項目1]

[設定項目の詳細な説明。何のための設定か、どのように動作するか、設定値の例など]

### [サブ設定項目 1-1]（必要な場合）

[サブ設定の説明]

## [主要設定項目2]

[設定項目の説明]

## 注意点

- [注意すべき点1]
- [注意すべき点2]
```

### 環境変数の記述方法

`environment-variables.md` ファイルには以下の形式で環境変数を追加します：

```markdown
## [設定カテゴリ名]

### [サブカテゴリ名]（必要な場合）

```bash
# [環境変数の詳細な説明]
NEXT_PUBLIC_VARIABLE_NAME=デフォルト値

# [環境変数の詳細な説明]
NEXT_PUBLIC_ANOTHER_VARIABLE=デフォルト値
```
```

### 設定項目の詳細な記述方法

設定項目の説明は以下の情報を含めるようにしてください：

1. **目的**: この設定が何のためにあるのか
2. **設定方法**: どのように設定するのか（UI操作や環境変数など）
3. **オプション**: 選択肢がある場合はその一覧と意味
4. **デフォルト値**: 初期設定値
5. **注意点**: 設定時に注意すべき点や制限事項
6. **関連機能**: 他の設定との関連性

### 警告やヒントの記述方法

特別な注意が必要な場合は、VitePressの警告構文を使用してください：

```markdown
::: warning 注意
これは注意が必要な情報です。
:::

::: tip ヒント
これは役立つヒントです。
:::

::: danger 危険
これは特に重要な警告です。
:::
```

## 画像の追加

UIの説明を視覚的に補足するために、スクリーンショットを追加することを推奨します：

```markdown
!@設定画面の説明
```

画像は `website/document/public/images/settings/` ディレクトリに保存してください。

## 内部リンクの設定

ドキュメント内の他のページへのリンクは以下のように設定します：

```markdown
@関連設定の参照
@詳細設定
```

## 複雑な設定の構成例

複雑な設定画面は以下のように複数のファイルに分割できます：

```
website/document/guide/complex-feature/
  ├── index.md        # 概要と入門
  ├── basic.md        # 基本設定
  ├── advanced.md     # 高度な設定
  ├── troubleshooting.md # トラブルシューティング
```

## サブページを持つ設定の例

キャラクター設定のように複数のサブページを持つ設定の場合：

```
website/document/guide/character/
  ├── common.md       # 共通設定
  ├── vrm.md          # VRM固有の設定
  ├── live2d.md       # Live2D固有の設定
```

## 環境変数の相互参照

設定ページと環境変数の間で相互参照を設定してください：

1. 各設定ページでは環境変数への参照を含める:
   ```markdown
   詳細な環境変数の一覧は@環境変数一覧をご覧ください。
   ```

2. 環境変数ページでは設定ページへのリンクを含める:
   ```markdown
   キャラクター設定の詳細については@キャラクター設定をご覧ください。
   ``` 